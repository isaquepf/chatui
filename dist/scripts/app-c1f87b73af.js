!function(){"use strict";angular.module("angularChat",["ngAnimate","ngCookies","ngSanitize","ngResource","ui.router","ngMaterial","ngStorage","ngEmbed"])}(),function(){"use strict";function e(e,t){function o(e){var o=t.update({id:e._id},e);return o}function n(e){var t=e.$save();return t}function r(){var e=t.query();return e}this.update=o,this.create=n,this.getAll=r}e.$inject=["$resource","User"],angular.module("angularChat").service("UserService",e)}(),function(){"use strict";function e(e,t){return t(e+"/users/:id",{id:"@_id"},{update:{method:"PUT"}})}e.$inject=["apiUrl","$resource"],angular.module("angularChat").factory("User",e)}(),function(){"use strict";function e(){var e={restrict:"E",scope:{user:"="},replace:!0,template:'<div ng-include="contentUrl"></div>',link:function(e,t,o){e.contentUrl="";var n="###",r=["app/user/",n,".avatar.directive.tmpl.html"].join("");e.contentUrl=e.user.imageUrl?r.replace(n,"filled"):r.replace(n,"anonymous")}};return e}angular.module("angularChat").directive("avatar",e)}(),function(){"use strict";function e(e){var t={users:[]};return t.initUsers=function(){return e.getAll().$promise.then(function(e){_.forEach(e,function(e){t.users[e._id]=e})})},t}e.$inject=["UserService"],angular.module("angularChat").factory("allUsersFactory",e)}(),function(){"use strict";function e(e){function t(t,o,n){t.$watchCollection(n.scroll,function(t){e(function(){o[0].parentElement.scrollTop=o[0].scrollHeight})})}var o={restrict:"A",link:t};return o}e.$inject=["$timeout"],angular.module("angularChat").directive("scroll",e)}(),function(){"use strict";function e(){function e(e,t,o){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(o.ngEnter)}),t.preventDefault())})}var t={restrict:"A",link:e};return t}angular.module("angularChat").directive("ngEnter",e)}(),function(){"use strict";function e(e){return function(t){var o=t._id.substr(0,8),n=new Date(1e3*parseInt(o,16));return e("date")(n,"MMM d, HH:mm")}}e.$inject=["$filter"],angular.module("angularChat").filter("createdDate",e)}(),function(){"use strict";function e(e,t){var o=io.connect(e);return{on:function(e,n){o.on(e,function(){var e=arguments;t.$apply(function(){n.apply(o,e)})})},emit:function(e,n,r){o.emit(e,n,function(){var e=arguments;t.$apply(function(){r&&r.apply(o,e)})})}}}e.$inject=["socketUrl","$rootScope"],angular.module("angularChat").factory("socketFactory",e)}(),function(){"use strict";function e(e,t){return t(e+"/rooms/:id/users/:userId",{id:"@_id"})}e.$inject=["apiUrl","$resource"],angular.module("angularChat").factory("RoomUser",e)}(),function(){"use strict";function e(e,t,o,n,r,a,i,l,s){function c(){m(),u(d.selectedIndex)}function m(){d.selectedIndex=s.getSelectedIndex(),d.rooms=s.getRooms()}function u(e){s.hasRoom()?l.go("rooms.room",{id:s.getRoomByIndex(e)._id}):l.go("rooms")}var d=this;m(),d.removeRoom=function(e){s.removeRoom(e),u(s.getRooms().length-1)},e.$watch("roomsCtrl.selectedIndex",function(e){s.setSelectedIndex(e),u(e)}),i.$on("room.added",c)}e.$inject=["$scope","$timeout","$mdBottomSheet","toastr","RoomService","$log","$rootScope","$state","openedRoomsFactory"],angular.module("angularChat").controller("RoomsController",e)}(),function(){"use strict";function e(e,t,o,n){function r(){var e=o.query(function(e){});return e}function a(e){var t=o.get({id:e});return t}function i(e){var t=new o({name:e.name});return t.$save()}function l(e){return n.query({id:e})}this.getRooms=r,this.getRoom=a,this.createRoom=i,this.getUsers=l}e.$inject=["$resource","apiUrl","Room","RoomUser"],angular.module("angularChat").service("RoomService",e)}(),function(){"use strict";function e(e,t){return t(e+"/rooms/:id")}e.$inject=["apiUrl","$resource"],angular.module("angularChat").factory("Room",e)}(),function(){"use strict";function e(e){function t(e,t,o,n){var r=this;r.rooms=e.getRooms(),r.openRoom=function(e,n){o.containsRoom(n)?t.toast("You've already opened this room!"):o.addRoom(n)}}function o(o,n,r){n.on("click",function(o){e.show({templateUrl:"app/room/room.list.tmpl.html",controller:t,controllerAs:"roomListCtrl",bindToController:!0,targetEvent:o})})}t.$inject=["RoomService","$rootScope","openedRoomsFactory","$state"];var n={restrict:"A",link:o};return n}e.$inject=["$mdBottomSheet"],angular.module("angularChat").directive("roomListOpener",e)}(),function(){"use strict";function e(e,t,o,n,r,a,i,l,s,c,m,u,d,g,p){function f(e){var t=_.findWhere(h.users,{_id:e});return"undefined"!=typeof t}var h=this;h.newMessage="";var v=s.params.id;h.messages=n,h.users=[],h.allusers=p.users,h.createMessage=function(){r.createRoomMessage(v,h.newMessage),h.newMessage=""},_.forEach(o.users,function(e){f(e)||h.users.push(p.users[e])}),h.room=o,u.emit("subscribe",{room:v,user:d.getLoggedInUser()}),u.on("user.joined",function(e){f(e._id)||h.users.push(e)}),u.on("user.left",function(e){_.remove(h.users,{_id:e._id})}),u.on("new message",function(e){h.messages.push(e)}),e.$on("$destroy",function(){u.emit("unsubscribe",{room:v,user:d.getLoggedInUser()})})}e.$inject=["$scope","users","room","messages","MessageService","RoomService","$log","$rootScope","$state","openedRoomsFactory","apiUrl","socketFactory","AccountService","Message","allUsersFactory"],angular.module("angularChat").controller("RoomItemController",e)}(),function(){"use strict";function e(e,t,o){function n(){_.forEach(t.rooms,function(o){t.rooms[o._id]=e.getRoom(o._id)})}var r={};return r.setSelectedIndex=function(e){t.index=e},r.getSelectedIndex=function(){return t.index},r.getRoomByIndex=function(e){var o=_.findWhere(t.rooms,{index:e});return o},r.getRooms=function(){return t.rooms},r.addRoom=function(e){"undefined"==typeof t.rooms&&(t.rooms=[]),e.index=t.rooms.length,t.rooms.push(e),t.index=e.index,o.$emit("room.added")},r.removeRoom=function(e){t.rooms.splice(e,1),_.forEach(t.rooms,function(e,t){e.index=t})},r.hasRoom=function(){return t.rooms&&t.rooms.length>0},r.containsRoom=function(e){var o=_.findWhere(t.rooms,{_id:e._id});return"undefined"!=typeof o},n(),r}e.$inject=["RoomService","$localStorage","$rootScope"],angular.module("angularChat").factory("openedRoomsFactory",e)}(),function(){"use strict";function e(){function e(e){function t(e,t,o,n,r,a){var i=this;i.newRoom={},i.hide=function(){t.hide()},i.cancel=function(){t.cancel()},i.create=function(){o.createRoom(i.newRoom).then(function(o){e.toast("Room "+o._id+" created successfully!"),a.addRoom(o),r.go("rooms.room",{id:o._id}),t.hide()},function(t){console.error(t),e.toast("We couldn't create your room, sorry :(")})}}t.$inject=["$rootScope","$mdDialog","RoomService","$mdToast","$state","openedRoomsFactory"];var o=this;o.createRoomDialog=function(o){e.show({controller:t,templateUrl:"app/room/create.room.dialog.tmpl.html",parent:angular.element(document.body),targetEvent:o,clickOutsideToClose:!0,controllerAs:"createRoomCtrl",bindToController:!0})}}e.$inject=["$mdDialog"];var t={restrict:"E",templateUrl:"app/room/create.room.fab.tmpl.html",controller:e,controllerAs:"fabCtrl",bindToController:!0};return t}angular.module("angularChat").directive("fab",e)}(),function(){"use strict";function e(e,t,o,n,r,a){var i=this;i.user=new n,i.register=function(){o.create(i.user).then(function(t){e.toast("Cadastro realizado com sucesso! Agora você está logado :)"),r.login(t.username,t.password).then(function(){a.go("rooms",{},{reload:!0})})},function(e){})}}e.$inject=["$rootScope","$scope","UserService","User","AccountService","$state"],angular.module("angularChat").controller("RegistrationController",e)}(),function(){"use strict";function e(e,t,o,n,r){function a(e){return o.query({id:e})}function i(e,t){var n=new o;n.text=t,n.user=r.getLoggedInUser(),n.$save({id:e})}this.getRoomMessages=a,this.createRoomMessage=i}e.$inject=["$resource","apiUrl","Message","Room","AccountService"],angular.module("angularChat").service("MessageService",e)}(),function(){"use strict";function e(e,t){return t(e+"/rooms/:id/messages/:messageId",{id:"@_id"})}e.$inject=["apiUrl","$resource"],angular.module("angularChat").factory("Message",e)}(),function(){"use strict";function e(){function e(e){}e.$inject=["$mdDialog"];var t={restrict:"E",templateUrl:"app/message/message.item.tmpl.html",controller:e,controllerAs:"messageCtrl",bindToController:!0,scope:{message:"=",author:"="}};return t}angular.module("angularChat").directive("message",e)}(),function(){"use strict";function e(){function e(e,t,o,n,r){function a(e){var n=o.debounce(function(){t(e).toggle()},200);return n}var i=this;i.user=r.getLoggedInUser(),i.toggleLeft=a("left")}e.$inject=["$timeout","$mdSidenav","$mdUtil","$log","AccountService"];var t={restrict:"E",templateUrl:"app/menu/menu.html",controller:e,controllerAs:"menuCtrl",bindToController:!0,replace:!0};return t}angular.module("angularChat").directive("mainMenu",e)}(),function(){"use strict";function e(){function e(e,t,o){var n=this;n.user=o.getLoggedInUser(),n.close=function(){e("left").close()}}e.$inject=["$mdSidenav","$log","AccountService"];var t={restrict:"E",templateUrl:"app/menu/leftnav.html",controller:e,controllerAs:"leftnavCtrl",bindToController:!0};return t}angular.module("angularChat").directive("leftNav",e)}(),function(){"use strict";function e(e,t,o){var n=this;n.user={},n.login=function(){t.login(n.user.username,n.user.password).then(function(){o.go("rooms")})}}e.$inject=["$scope","AccountService","$state"],angular.module("angularChat").controller("LoginController",e)}(),function(){"use strict";function e(){return function(e){return"@"+e}}angular.module("angularChat").filter("username",e)}(),function(){"use strict";function e(e,t,o){function n(e,t,o){t.on("click",function(){e.profileCtrl.showLoginDialog()})}function r(){function t(e,t,o,n,r){var a=this,i=t.getLoggedInUser();a.user={},angular.copy(i,a.user),a.hide=function(){e.hide()},a.cancel=function(){e.cancel()},a.save=function(){o.update(a.user).$promise.then(function(e){angular.copy(e,i)},function(e){}),e.hide()}}t.$inject=["$mdDialog","AccountService","UserService","User","$window"];var o=this;o.showLoginDialog=function(o){e.show({controller:t,templateUrl:"app/account/profile.dialog.html",parent:angular.element(document.body),targetEvent:o,controllerAs:"profileDialogCtrl",clickOutsideToClose:!0})}}var a={restrict:"A",controller:r,controllerAs:"profileCtrl",bindToController:!0,link:n};return a}e.$inject=["$mdDialog","AccountService","$state"],angular.module("angularChat").directive("profileButton",e)}(),function(){"use strict";function e(e,t){function o(){}function n(o,n,r){n.on("click",function(){e.logout(),t.go("login",{},{reload:!0})})}var r={restrict:"A",controller:o,controllerAs:"logoutCtrl",bindToController:!0,link:n};return r}e.$inject=["AccountService","$state"],angular.module("angularChat").directive("logoutButton",e)}(),function(){"use strict";function e(){return function(e){return e?e.firstName+" "+e.lastName:""}}angular.module("angularChat").filter("fullname",e)}(),function(){"use strict";function e(){var e={restrict:"E",scope:{user:"="},templateUrl:"app/account/basic.info.tmpl.html"};return e}angular.module("angularChat").directive("basicInfo",e)}(),function(){"use strict";function e(e,t,o,n,r,a,i){function l(){return o.user}function s(){return"undefined"!=typeof o.user}function c(e){o.user=e,n.loggedIn=!0}function m(e,t){var n="Basic "+btoa(e+":"+t);return r.defaults.headers.common.Authorization=n,o.authorization=n,g.get().$promise.then(function(e){c(e)},function(e){alert("error "+e)})}function u(){s()&&"undefined"!=typeof o.authorization&&(r.defaults.headers.common.Authorization=o.authorization)}function d(){var e=a.getRooms();_.forEach(e,function(e){i.emit("unsubscribe",{room:e._id,user:l()})}),delete r.defaults.headers.common.Authorization,delete o.header,delete o.user,delete o.rooms,delete o.index,n.loggedIn=!1}var g=e(t+"/account/me");this.setLoggedInUser=c,this.getLoggedInUser=l,this.isLoggedIn=s,this.login=m,this.logout=d,this.initAuthorizationHeader=u}e.$inject=["$resource","apiUrl","$localStorage","$rootScope","$http","openedRoomsFactory","socketFactory"],angular.module("angularChat").service("AccountService",e)}(),function(){"use strict";function e(e,t,o,n,r,a,i){r.embedOptions={linkTarget:"_blank",basicVideo:!1,code:{highlight:!0,lineNumbers:!0},gdevAuth:"AIzaSyC8BFwdPMZ3qcUvBswnggzeqnsUbQpAaok",video:{embed:!1,width:800,ytTheme:"light",details:!0},image:{embed:!0},tweetEmbed:!1};var l=["img/icons/sets/core-icons.svg","img/icons/ic_info_outline_24px.svg","img/icons/ic_close_24px.svg","img/icons/ic_person_24px.svg","img/logo.png"];angular.forEach(l,function(e){t.get(e,{cache:o})}),r.loggedIn=n.isLoggedIn(),n.initAuthorizationHeader(),r.$on("$stateChangeStart",function(e,t){if(t.data&&t.data.authenticated){var o=t.data.authenticated;if(n.isLoggedIn()!=o)return e.preventDefault(),void a.go("login")}}),r.toast=function(e){i.show(i.simple().content(e).position("top right").hideDelay(3e3))},e.debug("run block end")}e.$inject=["$log","$http","$templateCache","AccountService","$rootScope","$state","$mdToast"],angular.module("angularChat").run(e)}(),function(){"use strict";function e(e,t){e.state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"loginCtrl"}).state("registration",{url:"/registration",templateUrl:"app/registration/registration.html",controller:"RegistrationController",controllerAs:"registrationCtrl"}).state("rooms",{url:"/rooms",templateUrl:"app/room/room.tabs.tmpl.html",controller:"RoomsController",controllerAs:"roomsCtrl",data:{authenticated:!0}}).state("rooms.room",{url:"/:id",templateUrl:"app/room/room.item.html",controller:"RoomItemController",controllerAs:"roomItemCtrl",data:{authenticated:!0},resolve:{users:["allUsersFactory",function(e){return e.initUsers()}],room:["RoomService","$stateParams",function(e,t){var o=t.id;return e.getRoom(o).$promise}],messages:["MessageService","$state","$stateParams",function(e,t,o){var n=o.id;return e.getRoomMessages(n).$promise}]}}),t.when("/","rooms"),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("angularChat").config(e)}(),function(){"use strict";angular.module("angularChat").constant("apiUrl","http://localhost:4000/api/v1").constant("socketUrl","http://localhost:4000").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t,o,n,r){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0,o.defaultIconSet("img/avatars.svg",128).iconSet("core","img/icons/sets/core-icons.svg",24).icon("action:info","img/icons/ic_info_outline_24px.svg",24).icon("navigation:close","img/icons/ic_close_24px.svg",24).icon("social:person","img/icons/ic_person_24px.svg",24),n.theme("default").primaryPalette("indigo").accentPalette("blue"),r.defaults.useXDomain=!0,r.defaults.withCredentials=!0}e.$inject=["$logProvider","toastr","$mdIconProvider","$mdThemingProvider","$httpProvider"],angular.module("angularChat").config(e)}(),angular.module("angularChat").run(["$templateCache",function(e){e.put("app/account/basic.info.tmpl.html",'<md-content layout-padding="" layout="column"><div layout=""><button ng-if="user.imageUrl!=\'\' && user.imageUrl" class="md-icon-button md-button ng-scope md-default-theme" flex="10" ng-click="user.imageUrl=\'http://robohash.org/\'+user.username;"><img ng-src="{{user.imageUrl}}" class="md-avatar message-avatar ng-scope" style="height: 50px; background-color: white;"><md-tooltip md-direction="bottom">Crie sua imagem de perfil</md-tooltip></button><md-button ng-if="user.username && (user.imageUrl==\'\' || !user.imageUrl) && user.username!=\'\'" class="md-raised" flex="" ng-click="user.imageUrl=\'http://robohash.org/\'+user.username;">Generate Avatar</md-button><div class="md-ripple-container"></div><md-input-container flex=""><label>Link da Imagem</label> <input ng-model="user.imageUrl" name="imageUrl"></md-input-container></div></md-content><md-content layout-padding=""><div layout=""><md-input-container flex=""><label>Nome</label> <input ng-model="user.firstName" required="" name="firstName"></md-input-container><md-input-container flex=""><label>Sobrenome</label> <input ng-model="user.lastName" required="" name="lastName"></md-input-container></div></md-content><md-content layout-padding="" layout="row" layout-sm="column"><md-input-container flex=""><label>Apelido</label> <input ng-model="user.username" required="" name="username"></md-input-container><md-input-container flex=""><label>Senha</label> <input ng-model="user.password" type="password" required="" name="password"></md-input-container></md-content>'),e.put("app/account/profile.dialog.html",'<md-dialog aria-label="Login"><form name="loginForm"><md-toolbar><div class="md-toolbar-tools"><h2>Perfil</h2><span flex=""></span><md-button class="md-icon-button"><md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Fechar" ng-click="profileDialogCtrl.cancel()"></md-icon></md-button></div></md-toolbar><md-dialog-content><basic-info user="profileDialogCtrl.user"></basic-info></md-dialog-content><md-dialog-actions layout="column" layout-align="center"><md-button layout="row" layout-align="center center" ng-click="profileDialogCtrl.save()">Salvar</md-button></md-dialog-actions></form></md-dialog>'),e.put("app/login/login.html",'<div class="login-frame" ui-view="" flex="" layout="row"><div layout="row" flex="" layout-padding="" layout-fill="" layout-align="center center" class="ng-scope"><div flex="40" flex-lg="50" flex-md="70" flex-sm="100"><md-card class="md-cyan-theme"><md-toolbar class="md-cyan-theme" layout-padding=""><div layout="column" layout-align="center" class="padding-20 text-center"><h1 layout="row" layout-align="center center" class="md-headline ng-scope" translate="">Login</h1></div></md-toolbar><md-content class="md-padding md-cyan-theme"><form name="login" layout="column"><md-input-container><label>Apelido</label> <input name="username" ng-model="loginCtrl.user.username" type="text" required=""></md-input-container><md-input-container><label>Senha</label> <input ng-model="loginCtrl.user.password" type="password" required=""></md-input-container><md-dialog-actions layout="column" layout-align="center"><md-button class="md-raised md-primary" layout="row" layout-align="center center" ng-disabled="login.$invalid==true" ng-click="loginCtrl.login()">Login</md-button><a class="md-primary md-button md-cyan-theme" ui-sref="registration" aria-label="Don\'t have an account? Create one now">Não tem cadastro? Crie uma conta agora!</a></md-dialog-actions></form></md-content></md-card></div></div></div>'),e.put("app/main/main.html",'<main-menu ng-if="$root.loggedIn"></main-menu><left-nav ng-if="$root.loggedIn"></left-nav><fab ng-if="$root.loggedIn"></fab>'),e.put("app/menu/leftnav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left"><md-toolbar class="md-theme-light"><h1 class="md-toolbar-tools">Menu</h1></md-toolbar><md-content layout-padding="" class="cover"><div layout="column" layout-align="center"><avatar class="avatar" user="leftnavCtrl.user"></avatar><h3 class="fullname" layout="row" layout-align="center center">{{ leftnavCtrl.user | fullname }}</h3><small class="username" layout="row" layout-align="center center">@{{ leftnavCtrl.user.username}}</small></div></md-content><md-content><md-dialog-actions layout="column"><md-button profile-button="" class="md-accent" layout="row">Perfil</md-button><md-button logout-button="" class="md-accent" layout="row">Sair</md-button><md-button ng-click="leftnavCtrl.close()" layout="row">Fechar</md-button></md-dialog-actions></md-content></md-sidenav>'),e.put("app/menu/menu.html",'<md-toolbar><div class="md-toolbar-tools"><a href=""><img src="/img/message-logo-icon.png" style="width:50px; height:50px;" ng-click="menuCtrl.toggleLeft()" ng-if="$root.loggedIn"></a><h2><span>CSC MENSSEGER</span></h2><span flex=""></span><md-button room-list-opener="" ng-if="$root.loggedIn">Salas</md-button><md-button login-button="" ng-if="!$root.loggedIn">Login</md-button><registration-button ng-if="!$root.loggedIn"></registration-button><md-button profile-button="" aria-label="More" ng-if="$root.loggedIn"><img ng-src="{{ menuCtrl.user.imageUrl }}" style="border-radius: 50%; margin-top: 10px; height: 50px; background-color: white;"></md-button></div></md-toolbar>'),e.put("app/message/message.item.tmpl.html",'<md-list-item class="contact-item md-2-line selected" ng-if="messageCtrl.author"><avatar user="messageCtrl.author" class="md-avatar message-avatar"></avatar><div class="md-list-item-text compact"><p style="text-align: right;"><small><strong>{{messageCtrl.author.username | username }}</strong>, {{ messageCtrl.message | createdDate }}</small></p><div class="message-content"><ng-embed embed-data="messageCtrl.message.text" embed-options="$root.embedOptions"></ng-embed></div></div></md-list-item>'),e.put("app/registration/registration.html",'<div class="registration-frame" ui-view="" flex="" layout="row"><div layout="row" flex="" layout-padding="" layout-fill="" layout-align="center center" class="ng-scope"><div flex="40" flex-lg="50" flex-md="70" flex-sm="100"><md-card class="md-cyan-theme"><md-toolbar class="md-cyan-theme" layout-padding=""><div layout="column" layout-align="center" class="padding-20 text-center"><img ng-src="img/logo.png"><h1 layout="row" layout-align="center center" class="md-headline ng-scope" translate="">Cadastro</h1></div></md-toolbar><md-content class="md-padding md-cyan-theme"><form name="registration"><basic-info user="registrationCtrl.user"></basic-info><md-dialog-actions layout="column" layout-align="center"><md-button class="md-raised md-primary" layout="row" layout-align="center center" ng-disabled="registration.$invalid" ng-click="registrationCtrl.register()">Registrar</md-button><a class="md-primary md-button md-cyan-theme" ui-sref="login" aria-label="Already registered? Login now">Já Cadastrado? Faça o login agora</a></md-dialog-actions></form></md-content></md-card></div></div></div>'),e.put("app/room/create.room.dialog.tmpl.html",'<md-dialog aria-label="New Room"><form name="createRoomForm"><md-toolbar><div class="md-toolbar-tools"><h2>Criar Sala</h2><span flex=""></span><md-button class="md-icon-button" ng-click="createRoomCtrl.cancel()"><md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Fechar"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-content layout-padding=""><div layout="" layout-sm="column"><md-input-container flex=""><label>Nome</label> <input ng-enter="createRoomCtrl.create()" ng-model="createRoomCtrl.newRoom.name" required=""></md-input-container></div></md-content></md-dialog-content><md-dialog-actions layout="column" layout-align="center"><md-button class="md-primary md-raised" layout="row" layout-align="center center" ng-click="createRoomCtrl.create()">Salvar</md-button></md-dialog-actions></form></md-dialog>'),e.put("app/room/create.room.fab.tmpl.html",'<md-fab-speed-dial md-direction="left" ng-class="\'md-scale\'" style="position: fixed;right:10px;bottom: 10px; z-index: 10;"><md-fab-trigger><md-button aria-label="menu" class="md-fab md-warn" ng-click="fabCtrl.createRoomDialog()"><md-icon md-svg-icon="core:add"></md-icon><md-tooltip md-direction="left">Criar Sala</md-tooltip></md-button></md-fab-trigger></md-fab-speed-dial>'),e.put("app/room/room.item.html",'<div layout="row" layout-wrap=""><md-content layout="column" flex="80" flex-sm="100"><md-content style="height: 60vh;">{{roomItemCtrl.users2}}<md-list scroll="roomItemCtrl.messages"><md-subheader class="md-info">Messages in room {{ roomItemCtrl.room.name }}</md-subheader><message ng-repeat="message in roomItemCtrl.messages track by message._id" message="message" author="roomItemCtrl.allusers[message.authorId]" ng-class="{ \'repeated-author\' : $index>0 && message.authorId == roomItemCtrl.messages[$index-1].authorId}"></message></md-list></md-content><md-content layout-padding="" layout="column"><md-input-container class="md-accent"><label>Nova Mensagem</label> <input ng-enter="roomItemCtrl.createMessage()" ng-model="roomItemCtrl.newMessage" md-maxlength="350"></md-input-container></md-content></md-content><md-content class="side-nav room-users" hide-sm="" layout="column" flex="18"><md-list layout-fill=""><md-subheader class="md-accent">Usuários Online</md-subheader><md-list-item class="md-2-line contact-item selected" ng-repeat="(index, contact) in roomItemCtrl.users track by contact._id" ng-show="contact.username"><avatar user="contact"></avatar><div class="md-list-item-text compact"><h3>{{contact | fullname }}</h3><p>@{{contact.username}}</p></div><md-divider></md-divider></md-list-item></md-list></md-content></div>'),e.put("app/room/room.list.tmpl.html",'<md-bottom-sheet class="md-list md-has-header"><md-subheader ng-if="roomListCtrl.rooms.length == 0">Nenhuma sala disponível <small>Crie uma sala!</small></md-subheader><md-subheader ng-if="roomListCtrl.rooms.length > 0">Salas disponíveis <small>Clique para abrir uma sala.</small></md-subheader><md-content style="max-height: 200px;"><md-chips ng-model="roomListCtrl.rooms" readonly="true"><md-chip-template><strong ng-click="roomListCtrl.openRoom($index,$chip)">{{$chip.name}}</strong></md-chip-template></md-chips></md-content></md-bottom-sheet>'),e.put("app/room/room.tabs.tmpl.html",'<md-content flex="" ng-if="roomsCtrl.rooms.length > 0"><md-subheader>Salas abertas agora</md-subheader><md-tabs md-dynamic-height="" md-selected="roomsCtrl.selectedIndex" md-border-bottom=""><md-tab ng-repeat="room in roomsCtrl.rooms"><md-tab-label>{{room.name}} <a ng-click="roomsCtrl.removeRoom($index,room)"><md-icon md-svg-icon="navigation:close"></md-icon></a></md-tab-label><md-tab-body><div ng-if="roomsCtrl.selectedIndex === $index" ui-view="" flex=""></div></md-tab-body></md-tab></md-tabs></md-content>'),e.put("app/user/anonymous.avatar.directive.tmpl.html",'<img src="img/anonymous.png" class="md-avatar" alt="{{user.name}}">'),e.put("app/user/filled.avatar.directive.tmpl.html",'<img ng-src="{{ user.imageUrl }}" class="md-avatar" alt="{{user.name}}" ng-if="user.imageUrl">')}]);